{"version":3,"sources":["../../server/routes/auth.js"],"names":["authRouter","express","Router","post","validateUserSignup","req","res","returnedData","token","status","send","data","userId","isAdmin","validateUserSignIn","payload","jwt","sign","process","env","SECRET_KEY","header","message","user_id","is_admin"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA,IAAMA,aAAaC,kBAAQC,MAAR,EAAnB;;AAEAF,WAAWG,IAAX,CAAgB,SAAhB,EAA2BC,8BAA3B,EAA+C,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,MACnDC,YADmD,GAC3BF,GAD2B,CACnDE,YADmD;AAAA,MACrCC,KADqC,GAC3BH,GAD2B,CACrCG,KADqC;;AAE3DF,MAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,YAAQ,GADW;AAEnBE,UAAM;AACJC,cAAQL,aAAaK,MADjB;AAEJC,eAASN,aAAaM,OAFlB;AAGJL;AAHI;AAFa,GAArB;AAQD,CAVD;;AAYAR,WAAWG,IAAX,CAAgB,SAAhB,EAA2BW,8BAA3B,EAA+C,UAACT,GAAD,EAAMC,GAAN,EAAc;AAAA,MACnDS,OADmD,GACvCV,GADuC,CACnDU,OADmD;;AAE3D,MAAMP,QAAQQ,uBAAIC,IAAJ,CAASF,OAAT,EAAkBG,QAAQC,GAAR,CAAYC,UAA9B,CAAd;AACAd,MAAIe,MAAJ,CAAW,eAAX,cAAsCb,KAAtC;AACAF,MAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,YAAQ,GADW;AAEnBa,aAAS,wBAFU;AAGnBC,aAASR,QAAQH,MAHE;AAInBY,cAAUT,QAAQF,OAJC;AAKnBL;AALmB,GAArB;AAOD,CAXD;;kBAaeR,U","file":"auth.js","sourcesContent":["import express from 'express';\nimport jwt from 'jsonwebtoken';\nimport { validateUserSignup, validateUserSignIn } from '../helpers/validators';\n\nconst authRouter = express.Router();\n\nauthRouter.post('/signup', validateUserSignup, (req, res) => {\n  const { returnedData, token } = req;\n  res.status(201).send({\n    status: 201,\n    data: {\n      userId: returnedData.userId,\n      isAdmin: returnedData.isAdmin,\n      token,\n    },\n  });\n});\n\nauthRouter.post('/signin', validateUserSignIn, (req, res) => {\n  const { payload } = req;\n  const token = jwt.sign(payload, process.env.SECRET_KEY);\n  res.header('Authorization', `Bearer ${token}`);\n  res.status(202).send({\n    status: 202,\n    message: 'successfully logged in',\n    user_id: payload.userId,\n    is_admin: payload.isAdmin,\n    token,\n  });\n});\n\nexport default authRouter;\n"]}