{"version":3,"sources":["../../server/routes/trips.js"],"names":["tripRouter","express","Router","post","createTripValidate","verifyToken","req","res","body","userDetails","tripDetails","is_admin","then","catch"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMA,aAAaC,kBAAQC,MAAR,EAAnB;;AAEAF,WAAWG,IAAX,CAAgB,aAAhB,EAA+BC,8BAA/B,EAAmDC,uBAAnD,EAAgE,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,kBACvCD,IAAIE,IADmC;AAAA,MACpEC,WADoE,aACpEA,WADoE;AAAA,MACvDC,WADuD,aACvDA,WADuD;;AAE5E,MAAID,YAAY,CAAZ,EAAeE,QAAnB,EAA6B;AAC3B,wBAAWD,WAAX,EACGE,IADH,CACQ,YAAM;AACV,8BAAaL,GAAb,EAAkB,GAAlB,EAAuB,cAAvB,EAAuC,IAAvC;AACD,KAHH,EAGKM,KAHL,CAGW,YAAM;AACb,8BAAaN,GAAb,EAAkB,GAAlB,EAAuB,IAAvB,EAA6B,8BAA7B;AACD,KALH;AAMD,GAPD,MAOO;AACL,4BAAaA,GAAb,EAAkB,GAAlB,EAAuB,IAAvB,EAA6B,oBAA7B;AACD;AACF,CAZD;;kBAceP,U","file":"trips.js","sourcesContent":["import express from 'express';\nimport { createTripValidate, verifyToken } from '../helpers/validators';\nimport { createTrip } from '../crud/db';\nimport sendResponse from '../helpers/response';\n\nconst tripRouter = express.Router();\n\ntripRouter.post('/createtrip', createTripValidate, verifyToken, (req, res) => {\n  const { userDetails, tripDetails } = req.body;\n  if (userDetails[0].is_admin) {\n    createTrip(tripDetails)\n      .then(() => {\n        sendResponse(res, 201, 'trip created', null);\n      }).catch(() => {\n        sendResponse(res, 500, null, 'Error.Ensure bus id is valid');\n      });\n  } else {\n    sendResponse(res, 401, null, 'Unauthorized user!');\n  }\n});\n\nexport default tripRouter;\n"]}